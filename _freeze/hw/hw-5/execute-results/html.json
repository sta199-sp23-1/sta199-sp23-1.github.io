{
  "hash": "9b6ecb5bcdd740b5f15424031e19bc5d",
  "result": {
    "markdown": "---\ntitle: \"HW 5\"\ncategories: \"Homework\"\n---\n\n\n::: callout-important\nThis homework is due Wedmesday, April 12 at 5:00pm.\n:::\n\n## Getting Started\n\n-   Go to the [Github Organization page](https://github.com/sta199-sp23-1) and open your `hw5-username` repo\n\n-   Clone the repository, open a new project in RStudio.\n    It contains the starter documents you need to complete the homework assignment.\n\n# Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\n```\n:::\n\n\n# Data\n\nLoad the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsleep = read_csv(\"https://sta101-fa22.netlify.app/static/labs/data/sleep.csv\")\n```\n:::\n\n\nThe data we are working with today comes from Herbie Lee.\nPlease read information about the data set [here](https://stat.duke.edu/datasets/sleep), where you will also find a codebook.\n\n## Exercises\n\n### Investigating sleep\n\n1.  Find the mean time it takes the participant to fall asleep.\n    Check whether or not you can use central limit theorem to construct a 95% confidence interval to report with your estimate.\n    For purposes of this exercise, you may consider samples of time to sleep as random.\n    If you can use CLT, please do so to construct and report the confidence interval.\n    Otherwise, construct a bootstrap confidence interval with `set.seed(5)` and `10000` reps. Interpret your interval in context.\n\n2.  Does the participant take more than 35 minutes on average to fall asleep?\n    Perform a hypothesis test to investigate.\n    What is the null?\n    What is the alternative?\n    Use `set.seed(2)` and `reps=5000` to simulate under the null.\n\nVisualize the null distribution and shade the p-value.\nBe sure to label the x-axis.\nMake a conclusion based on significance level.\nGiven your response from the previous exercise, does this result surprise you?\nWhy or why not?\nWhat is the probability of rejecting the null if it's actually true?\nWhat type of error is this (type 1 or type 2)?\n\n3.  *Do calcium-magnesium supplements reduce median time to fall asleep?* Construct a hypothesis test to investigate. To begin, state the null and alternative hypothesis in words and in statistical notation. Use simulation-based inference to generate `5000` samples from the null distribution with `set.seed(5)`. Compute and state your observed statistic. Finally, compute the p-value and report it as well as significance at the alpha = 0.05 level and state your conclusion in context.\n\n::: callout-tip\n## Hint\n\nYou will need to mutate to ensure that one of the variables is non-numeric.\n:::\n\n4.  The more time the individual spent lying in bed, awake, and trying to sleep, the worse their overall quality of sleep. To begin investigating quality of sleep, create a new column `timeAwake` that shows the total number of minutes the individual spent in bed but not asleep. When `timeAwake` is large, sleep is awful and interrupted. Save your data frame with the new column as `sleep2`.\n\nExample: `TTS` is the time to fall asleep, `TBT` is total bed time, i.e. total time spent, lying in bed and trying to sleep.\n\nSo if the participant gets into bed at 9:00pm and then falls asleep at 9:30pm and wakes up at 1:00am and lies awake for an hour only to finally sleep until 6:00am and gets out of bed then\n\n-   `TTS` is 30 minutes,\n-   `TBT` is 9 hours,\n-   Total Sleep Time (`TST`) is 3.5h + 4h = 7.5 hours and the total time awake is 1.5 hours.\n\n5.  *Hypothesis: Most nights, the participant spends over fifty minutes lying in bed awake.* Construct a hypothesis test to investigate. To begin, state the null and alternative hypothesis in words and in statistical notation. Use simulation-based inference to generate `5000` samples from the null distribution with `set.seed(8)`. Compute and state your observed statistic. Finally, compute the p-value and report it as well as significance at the alpha = 0.01 level and state your conclusion in context.\n\n::: callout-tip\n## Hint\n\nStart with `sleep2` from the previous exercise.\n:::\n\n### Beyond this class: pick a package\n\n6.  In this exercise, you will find a new package that you haven't used in class and learn how to use it. Being able to find new packages, install them, read the documentation and finally use the package is an essential skill beyond the classroom.\n\nTo begin,\n\n-   Pick a package.\n    You can choose one from the list below, or venture into the great unknown and find another online.\n    If you have trouble getting a package to work, ask for help on slack or come to office hours.\n\n-   Install the package.\n    Be sure to do this in the Console, not in your R Markdown document because you do not want to keep re-installing every time you knit the document.\n\nDepending on where the package comes from, how you install the package differs:\n\n-   If the package is on CRAN (Comprehensive R Archive Network), you can install it with `install.packages`.\n\n-   If the package is only on Github (most likely because it is still under development), you need to use the `install_github` function, click here for more details.\n\n-   Load the package.\n    Regardless of how you installed the package you can load it with the `library` function.\n\n-   Do something with the package.\n    Typically, simpler is better.\n    The goal is for you to read and understand the package documentation to carry out a simple task.\n\n-   Finally, write a short 3-4 sentence statement (at the beginning of your solution to this exercise) and include:\n\n1.  The name of the package you use and whether it is from CRAN or GitHub\n\n2.  A short description of what the package does (in your own words)\n\n3.  A short description of what you do with the package.\n\nSample list of packages on CRAN:\n\n| package name                                                                                  | description                                                                                                                                                                                                                                                                                                                              |\n|---------------------|------------------------------------------------------|\n| [ape](https://cran.r-project.org/web/packages/ape/index.html)                                 | Manipulate, plot and interact with phylogenetic trees and models. Comes with sample data                                                                                                                                                                                                                                                 |\n| [astrodatR](https://cran.r-project.org/web/packages/astrodatR/index.html)                     | Astronomy datasets                                                                                                                                                                                                                                                                                                                       |\n| [cowsay](https://cran.r-project.org/web/packages/cowsay/vignettes/cowsay_tutorial.html)       | Allows printing of character strings as messages/warnings/etc. with ASCII animals, including cats, cows, frogs, chickens, ghosts, and more                                                                                                                                                                                               |\n| [babynames](http://hadley.github.io/babynames/)                                               | US Baby Names 1880-2015                                                                                                                                                                                                                                                                                                                  |\n| [dragracer](https://cran.r-project.org/web/packages/dragracer/vignettes/dragracer-intro.html) | These are data sets for the hit TV show, RuPaul's Drag Race. Data right now include episode-level data, contestant-level data, and episode-contestant-level data                                                                                                                                                                         |\n| [datapasta](https://milesmcbain.github.io/datapasta/)                                         | RStudio addins and R functions that make copy-pasting vectors and tables to text painless                                                                                                                                                                                                                                                |\n| [DiagrammeR](https://rich-iannone.github.io/DiagrammeR/)                                      | Graph/Network Visualization                                                                                                                                                                                                                                                                                                              |\n| [janeaustenr](https://github.com/juliasilge/janeaustenr)                                      | Full texts for Jane Austen's 6 completed novels, ready for text analysis. These novels are \"Sense and Sensibility\", \"Pride and Prejudice\", \"Mansfield Park\", \"Emma\", \"Northanger Abbey\", and \"Persuasion\"                                                                                                                                |\n| [ggimage](https://cran.r-project.org/web/packages/ggimage/vignettes/ggimage.html)             | Supports image files and graphic objects to be visualized in 'ggplot2' graphic system                                                                                                                                                                                                                                                    |\n| [gganimate](https://github.com/dgrtwo/gganimate)                                              | Create easy animations with ggplot2                                                                                                                                                                                                                                                                                                      |\n| [gt](https://gt.rstudio.com/)                                                                 | Easily Create Presentation-Ready Display Tables                                                                                                                                                                                                                                                                                          |\n| [leaflet](https://rstudio.github.io/leaflet/)                                                 | Create Interactive Web Maps with the JavaScript 'Leaflet' Library                                                                                                                                                                                                                                                                        |\n| [praise](https://cran.r-project.org/web/packages/praise/praise.pdf)                           | Build friendly R packages that praise their users if they have done something good, or they just need it to feel better                                                                                                                                                                                                                  |\n| [plotly](https://plotly-r.com/)                                                               | Create interactive web graphics from ggplot2 graphs and/or a custom interface to the JavaScript library plotly.js inspired by the grammar of graphics                                                                                                                                                                                    |\n| [suncalc](https://cran.r-project.org/web/packages/suncalc/suncalc.pdf)                        | R interface to `suncalc.js` library, part of the [SunCalc.net project](http://suncalc.net), for calculating sun position, sunlight phases (times for sunrise, sunset, dusk, etc.), moon position and lunar phase for the given location and time                                                                                         |\n| [schrute](https://bradlindblad.github.io/schrute/)                                            | The complete scripts from the American version of the Office television show in tibble format                                                                                                                                                                                                                                            |\n| [statebins](https://cran.r-project.org/web/packages/statebins/statebins.pdf)                  | The cartogram heatmaps generated by the included methods are an alternative to choropleth maps for the United States and are based on work by the Washington Post graphics department in their report on [\"The states most threatened by trade\"](http://www.washingtonpost.com/wp-srv/special/business/states-most-threatened-by-trade/) |\n| [ttbbeer](https://cran.r-project.org/web/packages/ttbbeer/ttbbeer.pdf)                        | An R data package of beer statistics from U.S. Department of the Treasury, Alcohol and Tobacco Tax and Trade Bureau (TTB)                                                                                                                                                                                                                |\n| [ttbbeer](https://cran.r-project.org/web/packages/ttbbeer/ttbbeer.pdf)                        | An R data package of beer statistics from U.S. Department of the Treasury, Alcohol and Tobacco Tax and Trade Bureau (TTB)                                                                                                                                                                                                                |\n| [ukbabynames](https://cran.r-project.org/web/packages/ukbabynames/ukbabynames.pdf)            | Full listing of UK baby names occurring more than three times per year between 1996 and 2015, and rankings of baby name popularity by decade from 1904 to 1994                                                                                                                                                                           |\n| [wesanderson](https://cran.r-project.org/web/packages/wesanderson/wesanderson.pdf)            | Color palettes from Wes Anderson films                                                                                                                                                                                                                                                                                                   |\n| [scatterplot3d](https://cran.r-project.org/web/packages/scatterplot3d/scatterplot3d.pdf)      | Create 3D plots                                                                                                                                                                                                                                                                                                                          |\n\n## Rubric\n\n-   Ex 1: 5 pts.\n\n-   Ex 2: 4 pts.\n\n-   Ex 3: 5 pts.\n\n-   Ex 4: 10 pts.\n\n-   Ex 5: 6 pts.\n\n-   Ex 6: 6 pts.\n\n-   Ex 7: 5 pts\n\n-   Ex 8: 4 pts\n\n-   Workflow and formatting - 5 pts\n\n## Submission\n\n-   Go to <http://www.gradescope.com> and click Log in in the top right corner.\n-   Click School Credentials Duke Net ID and log in using your Net ID credentials.\n-   Click on your STA 199 course.\n-   Click on the assignment, and you'll be prompted to submit it.\n-   Mark all the pages associated with exercise. All the pages of your homework should be associated with at least one question (i.e., should be \"checked\"). If you do not do this, you will be subject to lose points on the assignment.\n-   Select **all pages** of your PDF submission to be associated with the \"Workflow & formatting\" question.\n\n::: callout-note\nThe \"Workflow & formatting\" grade is to assess the reproducible workflow.\nThis includes:\n\n-   linking all pages appropriately on Gradescope\n\n-   putting your name in the YAML at the top of the document\n\n-   committing the submitted version of your `.qmd` to GitHub\n\n-   Are you under the 80 character code limit?\n    (You shouldn't have to scroll to see all your code).\n\n-   Pipes `%>%`, `|>` and ggplot layers `+` should be followed by a new line\n\n-   You should be consistent with stylistic choices, e.g. only use 1 of `=` vs `<-` and `%>%` vs `|>`\n\n-   All binary operators should be surrounded by space.\n    For example `x + y` is appropriate.\n    `x+y` is not.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}